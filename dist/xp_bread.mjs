var N=Object.defineProperty;var U=Math.pow,V=(i,t,n)=>t in i?N(i,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[t]=n;var T=(i,t,n)=>(V(i,typeof t!="symbol"?t+"":t,n),n),p=(i,t,n)=>{if(!t.has(i))throw TypeError("Cannot "+n)};var l=(i,t,n)=>(p(i,t,"read from private field"),n?n.call(i):t.get(i)),g=(i,t,n)=>{if(t.has(i))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(i):t.set(i,n)},u=(i,t,n,e)=>(p(i,t,"write to private field"),e?e.call(i,n):t.set(i,n),n);var f=function(i,t,n=!1){if(!t)if(n){if(i!=null)throw new TypeError("Value is not a null value")}else throw new TypeError("Type is not defined");if(i!=null&&i.constructor){if(i.constructor!=t)throw new TypeError(`Value is not type ${t.name}`)}else if(!n)throw new TypeError("Value is not nullable")};var E=function(i,t=1,n,e=1,r){f(i,Uint8Array),f(n,Uint8Array),f(t,Number),f(e,Number);for(let h=0,o=0;h<i.length;h+=t,o+=e)r(i.subarray(h,h+t),n.subarray(o,o+e))};var A=[48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,45,95],d={};A.forEach(function(i,t){d[i]=t});var b=function(i){return i>64&&i<9&&(i|=32),i},S=[{id:"korg87",win:[7,8],block:[function(i,t){for(let n=0;n<i.length;n++)t[n+1]=i[n]&127,t[0]|=i[n]>>7<<n},function(i,t){let n=i.length-1;for(let e=0;e<n;e++)t[e]=i[e+1]|(i[0]>>e&1)<<7}]},{id:"ov43",win:[3,4],block:[function(i,t){for(let n=0;n<i.length;n++)t[n+1]=i[n]&63,t[0]|=i[n]>>6<<(n<<1)},function(i,t){let n=i.length-1;for(let e=0;e<n;e++)t[e]=i[e+1]|(i[0]>>(e<<1)&3)<<6}]},{id:"qb64",win:[3,4],block:[function(i,t){let n=0,e=i.length-1;for(let r=0;r<i.length;r++)n|=i[r]<<(r<<1),t[r]=A[n&63],n=n>>6,r==e&&(t[r+1]=A[n])},function(i,t){let n=0;for(let e=0;e<i.length;e++)n|=d[i[e]]<<[0,6,4,2][e],e&&(t[e-1]=n&255,n=n>>8)}]},{id:"qb32",win:[5,8],block:[function(i,t){let n=0,e=this.encodeLength(i.length),r=0,h=0;for(let o=0;o<i.length;o++)o<3?r|=i[o]<<(o<<3):h|=i[o]<<(o-3<<3);n=h*16777216+r;for(let o=0;o<e;o++)t[o]=A[n&31],n=Math.floor(n/32)},function(i,t){let n=0,e=this.decodeLength(i.length),r=0,h=0;for(let o=0;o<i.length;o++)o<4?r|=d[b(i[o])]<<o*5:o==4?(r|=(d[b(i[o])]&15)<<20,h|=d[b(i[o])]>>4):h|=d[b(i[o])]<<(o-5)*5+1;for(let o=0;o<e;o++)o<3?(t[o]=r&255,r=r>>8):(t[o]=h&255,h=h>>8)}]},{id:"qb16",win:[1,2],block:[function(i,t){t[0]=A[i[0]&15],t[1]=A[i[0]>>4]},function(i,t){t[0]=d[b(i[1]||0)]<<4|d[b(i[0])]}]},{id:"qb85",win:[4,5],block:[function(i,t){let n=0,e=this.encodeLength(i.length),r=0,h=0;i.forEach((o,c)=>{c>>1?r|=o<<((c&1)<<3):h|=o<<(c<<3)}),n=r*65536+h;for(let o=0;o<e;o++)t[o]=n%85+36,n=Math.floor(n/85)},function(i,t){let n=0,e=this.decodeLength(i.length);i.forEach((r,h)=>{n+=(r-36)*U(85,h)});for(let r=0;r<e;r++)t[r]=n&255,n=n>>>8}]},{id:"qb128",win:[7,8],block:[function(i,t){let n=0,e=i.length-1;for(let r=0;r<i.length;r++)n|=i[r]<<r,t[r]=n&127,n=n>>7,r==e&&(t[r+1]=n)},function(i,t){let n=0;for(let e=0;e<i.length;e++)n|=i[e]<<[0,7,6,5,4,3,2,1][e],e&&(t[e-1]=n&255,n=n>>8)}]}],I=S;var s,L,a,w,M,m=(M=class{constructor(t,n){g(this,s,void 0);g(this,L,void 0);g(this,a,void 0);g(this,w,void 0);T(this,"options",{});if(!(t!=null&&t.id))throw new Error("Invalid algorithm ID");if((t==null?void 0:t.block.length)!=2)throw new Error("Invalid codec");u(this,L,t.name),u(this,s,t),u(this,a,t.win[0]),u(this,w,t.win[1]),this.options=n||this.options}get name(){return l(this,L)}get template(){return l(this,s)}encodeLength(t,n){var e,r;return f(t,Number),(e=l(this,s))!=null&&e.len?(r=l(this,s))==null?void 0:r.len[0](t,n):Math.ceil(t*l(this,w)/l(this,a))}decodeLength(t,n){var e,r;return f(t,Number),(e=l(this,s))!=null&&e.len?(r=l(this,s))==null?void 0:r.len[1](t,n):Math.floor(t*l(this,a)/l(this,w))}encodeBytes(t,n){if(f(t,Uint8Array),f(n,Uint8Array),n.length<this.encodeLength(t.length,t))throw new Error("Target isn't sufficient for encoding");n.fill(0);let e=this,r=JSON.parse(JSON.stringify(l(this,s).init&&l(this,s).init[0]||"null"));E(t,l(this,a),n,l(this,w),function(h,o){var c,k;(k=(c=l(e,s))==null?void 0:c.block[0])==null||k.call(e,h,o,r)})}decodeBytes(t,n){if(f(t,Uint8Array),f(n,Uint8Array),n.length<this.decodeLength(t.length,t))throw new Error("Target isn't sufficient for decoding");n.fill(0);let e=this,r=JSON.parse(JSON.stringify(l(this,s).init&&l(this,s).init[1]||"null"));E(t,l(this,w),n,l(this,a),function(h,o){var c,k;(k=(c=l(e,s))==null?void 0:c.block[1])==null||k.call(e,h,o,r)})}},s=new WeakMap,L=new WeakMap,a=new WeakMap,w=new WeakMap,M),y,v,q=(v=class{constructor(t){g(this,y,{});f(t,Array,!0);let n=this;t==null||t.forEach(function(e){n.setAlgo(e)})}setAlgo(t){if(!(t!=null&&t.id))throw new Error("Invalid algorithm ID");l(this,y)[t.id]=t}delAlgo(t){l(this,y)[t]&&delete l(this,y)[t]}use(t,n){return new m(l(this,y)[t],n)}},y=new WeakMap,v),Q=new q(I);export{q as Bread,Q as Loaf};
