var h=function(i,e,t=!1){if(!e)if(t){if(i!=null)throw new TypeError("Value is not a null value")}else throw new TypeError("Type is not defined");if(i?.constructor){if(i.constructor!=e)throw new TypeError(`Value is not type ${e.name}`)}else if(!t)throw new TypeError("Value is not nullable")};var s=function(i,e=1,t,r=1,n){h(i,Uint8Array),h(t,Uint8Array),h(e,Number),h(r,Number);for(let o=0,l=0;o<i.length;o+=e,l+=r)n(i.subarray(o,o+e),t.subarray(l,l+r))};var f=[65,97,48],d=[{id:"korg87",win:[7,8],block:[function(i,e){let t=0;i.forEach(function(r,n){e[n+1]=r&127,t|=r>>7<<n}),e[0]=t},function(i,e){let t=i[0];i.subarray(1).forEach((r,n)=>{e[n]=r|(t>>n&1)<<7})}]},{id:"qb64",win:[3,4],block:[function(i,e){let t=0,r=this.encodeLength(i.length);i.forEach((n,o)=>{t|=n<<(o<<3)});for(let n=0;n<r;n++){let o=t%64+32;e[n]=f[Math.floor(o/26)]+o%26,t=t>>6}},function(i,e){let t=0,r=this.decodeLength(i.length);i.forEach((n,o)=>{let l;if(n>96)l=0;else if(n>64)l=26;else if(n>47)l=52;else throw new Error(`Invalid code point ${n}`);l+=n%26,t+=(l-32)*64**o});for(let n=0;n<r;n++)e[n]=t&255,t=t>>8}]}],c=d;c.push({id:"qb36",win:[9,14],block:[function(i,e){let t=0n,r=BigInt(this.encodeLength(i.length));i.forEach((n,o)=>{t|=BigInt(n)<<(BigInt(o)<<3n)});for(let n=0n;n<r;n++)e[n]=Number(t%36n+32n),t/=36n},function(i,e){let t=0n,r=BigInt(this.decodeLength(i.length));i.forEach((n,o)=>{t+=(BigInt(n)-32n)*36n**BigInt(o)});for(let n=0n;n<r;n++)e[n]=Number(t&255n),t=t>>8n}]});c.push({id:"qb85",win:[4,5],block:[function(i,e){let t=0n,r=BigInt(this.encodeLength(i.length));i.forEach((n,o)=>{t|=BigInt(n)<<(BigInt(o)<<3n)});for(let n=0n;n<r;n++)e[n]=Number(t%85n+36n),t/=85n},function(i,e){let t=0n,r=BigInt(this.decodeLength(i.length));i.forEach((n,o)=>{t+=(BigInt(n)-36n)*85n**BigInt(o)});for(let n=0n;n<r;n++)e[n]=Number(t&255n),t=t>>8n}]});c.push({id:"qb94",win:[9,11],block:[function(i,e){let t=0n,r=BigInt(this.encodeLength(i.length));i.forEach((n,o)=>{t|=BigInt(n)<<(BigInt(o)<<3n)});for(let n=0n;n<r;n++)e[n]=Number(t%94n+32n),t/=94n},function(i,e){let t=0n,r=BigInt(this.decodeLength(i.length));i.forEach((n,o)=>{t+=(BigInt(n)-32n)*94n**BigInt(o)});for(let n=0n;n<r;n++)e[n]=Number(t&255n),t=t>>8n}]});c.push({id:"qb95",win:[9,11],block:[function(i,e){let t=0n,r=BigInt(this.encodeLength(i.length));i.forEach((n,o)=>{t|=BigInt(n)<<(BigInt(o)<<3n)});for(let n=0n;n<r;n++)e[n]=Number(t%95n+32n),t/=95n},function(i,e){let t=0n,r=BigInt(this.decodeLength(i.length));i.forEach((n,o)=>{t+=(BigInt(n)-32n)*95n**BigInt(o)});for(let n=0n;n<r;n++)e[n]=Number(t&255n),t=t>>8n}]});var a=c;var g=class{#t;#i;#n;#e;options={};get name(){return this.#i}get template(){return this.#t}encodeLength(e,t){return h(e,Number),this.#t?.len?this.#t?.len[0](e,t):Math.ceil(e*this.#e/this.#n)}decodeLength(e,t){return h(e,Number),this.#t?.len?this.#t?.len[1](e,t):Math.floor(e*this.#n/this.#e)}encodeBytes(e,t){if(h(e,Uint8Array),h(t,Uint8Array),t.length<this.encodeLength(e.length,e))throw new Error("Target isn't sufficient for encoding");t.fill(0);let r=this,n=JSON.parse(JSON.stringify(this.#t.init&&this.#t.init[0]||"null"));s(e,this.#n,t,this.#e,function(o,l){r.#t?.block[0]?.call(r,o,l,n)})}decodeBytes(e,t){if(h(e,Uint8Array),h(t,Uint8Array),t.length<this.decodeLength(e.length,e))throw new Error("Target isn't sufficient for decoding");t.fill(0);let r=this,n=JSON.parse(JSON.stringify(this.#t.init&&this.#t.init[1]||"null"));s(e,this.#e,t,this.#n,function(o,l){r.#t?.block[1]?.call(r,o,l,n)})}constructor(e,t){if(!e?.id)throw new Error("Invalid algorithm ID");if(e?.block.length!=2)throw new Error("Invalid codec");this.#i=e.name,this.#t=e,this.#n=e.win[0],this.#e=e.win[1],this.options=t||this.options}},u=class{#t={};setAlgo(e){if(!e?.id)throw new Error("Invalid algorithm ID");this.#t[e.id]=e}delAlgo(e){this.#t[e]&&delete this.#t[e]}use(e,t){return new g(this.#t[e],t)}constructor(e){h(e,Array,!0);let t=this;e?.forEach(function(r){t.setAlgo(r)})}},U=new u(a);export{u as Bread,U as Loaf};
