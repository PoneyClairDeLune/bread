var l=function(i,e,t=!1){if(!e)if(t){if(i!=null)throw new TypeError("Value is not a null value")}else throw new TypeError("Type is not defined");if(i?.constructor){if(i.constructor!=e)throw new TypeError(`Value is not type ${e.name}`)}else if(!t)throw new TypeError("Value is not nullable")};var a=function(i,e=1,t,o=1,n){l(i,Uint8Array),l(t,Uint8Array),l(e,Number),l(o,Number);for(let r=0,h=0;r<i.length;r+=e,h+=o)n(i.subarray(r,r+e),t.subarray(h,h+o))};var c=[48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,45,95],s={};c.forEach(function(i,e){s[i]=e});var d=function(i){return i>64&&i<9&&(i|=32),i},b=[{id:"korg87",win:[7,8],block:[function(i,e){let t=0;for(let o=0;o<i.length;o++)e[o+1]=i[o]&127,t|=i[o]>>7<<o;e[0]=t},function(i,e){let t=i[0],o=i.subarray(1);for(let n=0;n<o.length;n++)e[n]=o[n]|(t>>n&1)<<7}]},{id:"qb64",win:[3,4],block:[function(i,e){let t=0,o=this.encodeLength(i.length);for(let n=0;n<i.length;n++)t|=i[n]<<(n<<3);for(let n=0;n<o;n++)e[n]=c[t&63],t=t>>6},function(i,e){let t=0,o=this.decodeLength(i.length);for(let n=0;n<i.length;n++)t|=s[i[n]]<<n*6;for(let n=0;n<o;n++)e[n]=t&255,t=t>>8}]},{id:"qb32",win:[5,8],block:[function(i,e){let t=0,o=this.encodeLength(i.length);for(let n=0;n<i.length;n++)t|=i[n]<<n*8;for(let n=0;n<o;n++)e[n]=c[t&31],t=Math.floor(t/32)},function(i,e){let t=0,o=this.decodeLength(i.length);for(let n=0;n<i.length;n++)t|=s[d(i[n])]<<n*5;for(let n=0;n<o;n++)e[n]=t&255,t=t>>8}]},{id:"qb16",win:[1,2],block:[function(i,e){for(let t=0;t<i.length;t++)e[t<<1]=c[i[t]&15],e[t<<1|1]=c[i[t]>>4]},function(i,e){let t=i.length>>1;for(let o=0;o<t;o++)e[o]=s[d(i[o<<1|1])]<<4|s[d(i[o<<1])]}]},{id:"qb85",win:[4,5],block:[function(i,e){let t=0,o=this.encodeLength(i.length);i.forEach((n,r)=>{t+=n*256**r});for(let n=0;n<o;n++)e[n]=t%85+36,t=Math.floor(t/85)},function(i,e){let t=0,o=this.decodeLength(i.length);i.forEach((n,r)=>{t+=(n-36)*85**r});for(let n=0;n<o;n++)e[n]=t%256,t=Math.floor(t/256)}]},{id:"ib85"}],f=b;f.push({id:"qb36",win:[9,14],block:[function(i,e){let t=0n,o=BigInt(this.encodeLength(i.length));i.forEach((n,r)=>{t|=BigInt(n)<<(BigInt(r)<<3n)});for(let n=0n;n<o;n++)e[n]=Number(t%36n+32n),t/=36n},function(i,e){let t=0n,o=BigInt(this.decodeLength(i.length));i.forEach((n,r)=>{t+=(BigInt(n)-32n)*36n**BigInt(r)});for(let n=0n;n<o;n++)e[n]=Number(t&255n),t=t>>8n}]});f.push({id:"qb94",win:[9,11],block:[function(i,e){let t=0n,o=BigInt(this.encodeLength(i.length));i.forEach((n,r)=>{t|=BigInt(n)<<(BigInt(r)<<3n)});for(let n=0n;n<o;n++)e[n]=Number(t%94n+32n),t/=94n},function(i,e){let t=0n,o=BigInt(this.decodeLength(i.length));i.forEach((n,r)=>{t+=(BigInt(n)-32n)*94n**BigInt(r)});for(let n=0n;n<o;n++)e[n]=Number(t&255n),t=t>>8n}]});f.push({id:"qb95",win:[9,11],block:[function(i,e){let t=0n,o=BigInt(this.encodeLength(i.length));i.forEach((n,r)=>{t|=BigInt(n)<<(BigInt(r)<<3n)});for(let n=0n;n<o;n++)e[n]=Number(t%95n+32n),t/=95n},function(i,e){let t=0n,o=BigInt(this.decodeLength(i.length));i.forEach((n,r)=>{t+=(BigInt(n)-32n)*95n**BigInt(r)});for(let n=0n;n<o;n++)e[n]=Number(t&255n),t=t>>8n}]});var g=f;var u=class{#t;#i;#n;#e;options={noInit:!1};get name(){return this.#i}get template(){return this.#t}encodeLength(e,t){return l(e,Number),this.#t?.len?this.#t?.len[0](e,t):Math.ceil(e*this.#e/this.#n)}decodeLength(e,t){return l(e,Number),this.#t?.len?this.#t?.len[1](e,t):Math.floor(e*this.#n/this.#e)}encodeBytes(e,t){if(l(e,Uint8Array),l(t,Uint8Array),t.length<this.encodeLength(e.length,e))throw new Error("Target isn't sufficient for encoding");!this.options.noInit&&t.fill(0);let o=this,n=JSON.parse(JSON.stringify(this.#t.init&&this.#t.init[0]||"null"));a(e,this.#n,t,this.#e,function(r,h){o.#t?.block[0]?.call(o,r,h,n)})}decodeBytes(e,t){if(l(e,Uint8Array),l(t,Uint8Array),t.length<this.decodeLength(e.length,e))throw new Error("Target isn't sufficient for decoding");!this.options.noInit&&t.fill(0);let o=this,n=JSON.parse(JSON.stringify(this.#t.init&&this.#t.init[1]||"null"));a(e,this.#e,t,this.#n,function(r,h){o.#t?.block[1]?.call(o,r,h,n)})}constructor(e,t){if(!e?.id)throw new Error("Invalid algorithm ID");if(e?.block.length!=2)throw new Error("Invalid codec");this.#i=e.name,this.#t=e,this.#n=e.win[0],this.#e=e.win[1],this.options=t||this.options}},y=class{#t={};setAlgo(e){if(!e?.id)throw new Error("Invalid algorithm ID");this.#t[e.id]=e}delAlgo(e){this.#t[e]&&delete this.#t[e]}use(e,t){return new u(this.#t[e],t)}constructor(e){l(e,Array,!0);let t=this;e?.forEach(function(o){t.setAlgo(o)})}},T=new y(g);export{y as Bread,T as Loaf};
