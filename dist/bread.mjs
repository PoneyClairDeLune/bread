var h=function(i,n,t=!1){if(!n)if(t){if(i!=null)throw new TypeError("Value is not a null value")}else throw new TypeError("Type is not defined");if(i?.constructor){if(i.constructor!=n)throw new TypeError(`Value is not type ${n.name}`)}else if(!t)throw new TypeError("Value is not nullable")};var d=function(i,n=1,t,o=1,e){h(i,Uint8Array),h(t,Uint8Array),h(n,Number),h(o,Number);for(let l=0,r=0;l<i.length;l+=n,r+=o)e(i.subarray(l,l+n),t.subarray(r,r+o))};var c=[48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,45,95],s={};c.forEach(function(i,n){s[i]=n});var g=function(i){return i>64&&i<9&&(i|=32),i},u=[{id:"korg87",win:[7,8],block:[function(i,n){let t=0;for(let o=0;o<i.length;o++)n[o+1]=i[o]&127,t|=i[o]>>7<<o;n[0]=t},function(i,n){let t=i[0],o=i.subarray(1);for(let e=0;e<o.length;e++)n[e]=o[e]|(t>>e&1)<<7}]},{id:"qb64",win:[3,4],block:[function(i,n){let t=0,o=this.encodeLength(i.length);for(let e=0;e<i.length;e++)t|=i[e]<<(e<<3);for(let e=0;e<o;e++)n[e]=c[t&63],t=t>>6},function(i,n){let t=0,o=this.decodeLength(i.length);for(let e=0;e<i.length;e++)t|=s[i[e]]<<e*6;for(let e=0;e<o;e++)n[e]=t&255,t=t>>8}]},{id:"qb32",win:[5,8],block:[function(i,n){let t=0,o=this.encodeLength(i.length),e=0,l=0;for(let r=0;r<i.length;r++)r<3?e|=i[r]<<(r<<3):l|=i[r]<<(r-3<<3);t=l*16777216+e;for(let r=0;r<o;r++)n[r]=c[t&31],t=Math.floor(t/32)},function(i,n){let t=0,o=this.decodeLength(i.length);for(let r=0;r<i.length;r++)t+=s[g(i[r])]*32**r;let e=t&16777215,l=Math.floor(t/16777216);for(let r=0;r<o;r++)r<3?(n[r]=e&255,e=e>>8):(n[r]=l&255,l=l>>8)}]},{id:"qb16",win:[1,2],block:[function(i,n){for(let t=0;t<i.length;t++)n[t<<1]=c[i[t]&15],n[t<<1|1]=c[i[t]>>4]},function(i,n){let t=i.length>>1;for(let o=0;o<t;o++)n[o]=s[g(i[o<<1|1])]<<4|s[g(i[o<<1])]}]},{id:"qb85",win:[4,5],block:[function(i,n){let t=0,o=this.encodeLength(i.length),e=0,l=0;i.forEach((r,a)=>{a>>1?e|=r<<((a&1)<<3):l|=r<<(a<<3)}),t=e*65536+l;for(let r=0;r<o;r++)n[r]=t%85+36,t=Math.floor(t/85)},function(i,n){let t=0,o=this.decodeLength(i.length);i.forEach((e,l)=>{t+=(e-36)*85**l});for(let e=0;e<o;e++)n[e]=t&255,t=t>>>8}]}],f=u;f.push({id:"qb36",win:[9,14],block:[function(i,n){let t=0n,o=BigInt(this.encodeLength(i.length));i.forEach((e,l)=>{t|=BigInt(e)<<(BigInt(l)<<3n)});for(let e=0n;e<o;e++)n[e]=Number(t%36n+32n),t/=36n},function(i,n){let t=0n,o=BigInt(this.decodeLength(i.length));i.forEach((e,l)=>{t+=(BigInt(e)-32n)*36n**BigInt(l)});for(let e=0n;e<o;e++)n[e]=Number(t&255n),t=t>>8n}]});f.push({id:"qb94",win:[9,11],block:[function(i,n){let t=0n,o=BigInt(this.encodeLength(i.length));i.forEach((e,l)=>{t|=BigInt(e)<<(BigInt(l)<<3n)});for(let e=0n;e<o;e++)n[e]=Number(t%94n+32n),t/=94n},function(i,n){let t=0n,o=BigInt(this.decodeLength(i.length));i.forEach((e,l)=>{t+=(BigInt(e)-32n)*94n**BigInt(l)});for(let e=0n;e<o;e++)n[e]=Number(t&255n),t=t>>8n}]});f.push({id:"qb95",win:[9,11],block:[function(i,n){let t=0n,o=BigInt(this.encodeLength(i.length));i.forEach((e,l)=>{t|=BigInt(e)<<(BigInt(l)<<3n)});for(let e=0n;e<o;e++)n[e]=Number(t%95n+32n),t/=95n},function(i,n){let t=0n,o=BigInt(this.decodeLength(i.length));i.forEach((e,l)=>{t+=(BigInt(e)-32n)*95n**BigInt(l)});for(let e=0n;e<o;e++)n[e]=Number(t&255n),t=t>>8n}]});var b=f;var y=class{#t;#i;#n;#e;options={noInit:!1};get name(){return this.#i}get template(){return this.#t}encodeLength(n,t){return h(n,Number),this.#t?.len?this.#t?.len[0](n,t):Math.ceil(n*this.#e/this.#n)}decodeLength(n,t){return h(n,Number),this.#t?.len?this.#t?.len[1](n,t):Math.floor(n*this.#n/this.#e)}encodeBytes(n,t){if(h(n,Uint8Array),h(t,Uint8Array),t.length<this.encodeLength(n.length,n))throw new Error("Target isn't sufficient for encoding");!this.options.noInit&&t.fill(0);let o=this,e=JSON.parse(JSON.stringify(this.#t.init&&this.#t.init[0]||"null"));d(n,this.#n,t,this.#e,function(l,r){o.#t?.block[0]?.call(o,l,r,e)})}decodeBytes(n,t){if(h(n,Uint8Array),h(t,Uint8Array),t.length<this.decodeLength(n.length,n))throw new Error("Target isn't sufficient for decoding");!this.options.noInit&&t.fill(0);let o=this,e=JSON.parse(JSON.stringify(this.#t.init&&this.#t.init[1]||"null"));d(n,this.#e,t,this.#n,function(l,r){o.#t?.block[1]?.call(o,l,r,e)})}constructor(n,t){if(!n?.id)throw new Error("Invalid algorithm ID");if(n?.block.length!=2)throw new Error("Invalid codec");this.#i=n.name,this.#t=n,this.#n=n.win[0],this.#e=n.win[1],this.options=t||this.options}},w=class{#t={};setAlgo(n){if(!n?.id)throw new Error("Invalid algorithm ID");this.#t[n.id]=n}delAlgo(n){this.#t[n]&&delete this.#t[n]}use(n,t){return new y(this.#t[n],t)}constructor(n){h(n,Array,!0);let t=this;n?.forEach(function(o){t.setAlgo(o)})}},T=new w(b);export{w as Bread,T as Loaf};
