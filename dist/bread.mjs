var h=function(i,t,n=!1){if(!t)if(n){if(i!=null)throw new TypeError("Value is not a null value")}else throw new TypeError("Type is not defined");if(i?.constructor){if(i.constructor!=t)throw new TypeError(`Value is not type ${t.name}`)}else if(!n)throw new TypeError("Value is not nullable")};var s=function(i,t=1,n,r=1,e){h(i,Uint8Array),h(n,Uint8Array),h(t,Number),h(r,Number);for(let o=0,l=0;o<i.length;o+=t,l+=r)e(i.subarray(o,o+t),n.subarray(l,l+r))};var a=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,45,95],f={};a.forEach(function(i,t){f[i]=t});var d=[{id:"korg87",win:[7,8],block:[function(i,t){let n=0;i.forEach(function(r,e){t[e+1]=r&127,n|=r>>7<<e}),t[0]=n},function(i,t){let n=i[0];i.subarray(1).forEach((r,e)=>{t[e]=r|(n>>e&1)<<7})}]},{id:"qb64",win:[3,4],block:[function(i,t){let n=0,r=this.encodeLength(i.length);i.forEach(function(e,o){n|=e<<(o<<3)});for(let e=0;e<r;e++)t[e]=a[n&63],n=n>>6},function(i,t){let n=0,r=this.decodeLength(i.length);i.forEach(function(e,o){n+=f[e]<<o*6});for(let e=0;e<r;e++)t[e]=n&255,n=n>>8}]}],c=d;c.push({id:"qb36",win:[9,14],block:[function(i,t){let n=0n,r=BigInt(this.encodeLength(i.length));i.forEach((e,o)=>{n|=BigInt(e)<<(BigInt(o)<<3n)});for(let e=0n;e<r;e++)t[e]=Number(n%36n+32n),n/=36n},function(i,t){let n=0n,r=BigInt(this.decodeLength(i.length));i.forEach((e,o)=>{n+=(BigInt(e)-32n)*36n**BigInt(o)});for(let e=0n;e<r;e++)t[e]=Number(n&255n),n=n>>8n}]});c.push({id:"qb85",win:[4,5],block:[function(i,t){let n=0n,r=BigInt(this.encodeLength(i.length));i.forEach((e,o)=>{n|=BigInt(e)<<(BigInt(o)<<3n)});for(let e=0n;e<r;e++)t[e]=Number(n%85n+36n),n/=85n},function(i,t){let n=0n,r=BigInt(this.decodeLength(i.length));i.forEach((e,o)=>{n+=(BigInt(e)-36n)*85n**BigInt(o)});for(let e=0n;e<r;e++)t[e]=Number(n&255n),n=n>>8n}]});c.push({id:"qb94",win:[9,11],block:[function(i,t){let n=0n,r=BigInt(this.encodeLength(i.length));i.forEach((e,o)=>{n|=BigInt(e)<<(BigInt(o)<<3n)});for(let e=0n;e<r;e++)t[e]=Number(n%94n+32n),n/=94n},function(i,t){let n=0n,r=BigInt(this.decodeLength(i.length));i.forEach((e,o)=>{n+=(BigInt(e)-32n)*94n**BigInt(o)});for(let e=0n;e<r;e++)t[e]=Number(n&255n),n=n>>8n}]});c.push({id:"qb95",win:[9,11],block:[function(i,t){let n=0n,r=BigInt(this.encodeLength(i.length));i.forEach((e,o)=>{n|=BigInt(e)<<(BigInt(o)<<3n)});for(let e=0n;e<r;e++)t[e]=Number(n%95n+32n),n/=95n},function(i,t){let n=0n,r=BigInt(this.decodeLength(i.length));i.forEach((e,o)=>{n+=(BigInt(e)-32n)*95n**BigInt(o)});for(let e=0n;e<r;e++)t[e]=Number(n&255n),n=n>>8n}]});var g=c;var u=class{#n;#i;#t;#e;options={};get name(){return this.#i}get template(){return this.#n}encodeLength(t,n){return h(t,Number),this.#n?.len?this.#n?.len[0](t,n):Math.ceil(t*this.#e/this.#t)}decodeLength(t,n){return h(t,Number),this.#n?.len?this.#n?.len[1](t,n):Math.floor(t*this.#t/this.#e)}encodeBytes(t,n){if(h(t,Uint8Array),h(n,Uint8Array),n.length<this.encodeLength(t.length,t))throw new Error("Target isn't sufficient for encoding");n.fill(0);let r=this,e=JSON.parse(JSON.stringify(this.#n.init&&this.#n.init[0]||"null"));s(t,this.#t,n,this.#e,function(o,l){r.#n?.block[0]?.call(r,o,l,e)})}decodeBytes(t,n){if(h(t,Uint8Array),h(n,Uint8Array),n.length<this.decodeLength(t.length,t))throw new Error("Target isn't sufficient for decoding");n.fill(0);let r=this,e=JSON.parse(JSON.stringify(this.#n.init&&this.#n.init[1]||"null"));s(t,this.#e,n,this.#t,function(o,l){r.#n?.block[1]?.call(r,o,l,e)})}constructor(t,n){if(!t?.id)throw new Error("Invalid algorithm ID");if(t?.block.length!=2)throw new Error("Invalid codec");this.#i=t.name,this.#n=t,this.#t=t.win[0],this.#e=t.win[1],this.options=n||this.options}},y=class{#n={};setAlgo(t){if(!t?.id)throw new Error("Invalid algorithm ID");this.#n[t.id]=t}delAlgo(t){this.#n[t]&&delete this.#n[t]}use(t,n){return new u(this.#n[t],n)}constructor(t){h(t,Array,!0);let n=this;t?.forEach(function(r){n.setAlgo(r)})}},V=new y(g);export{y as Bread,V as Loaf};
